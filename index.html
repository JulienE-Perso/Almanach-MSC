<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALMANACH MSC - Metal Social Club</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/app.css">
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="login-logo">
                <div class="logo-icon">üé∏</div>
                <h1>ALMANACH MSC</h1>
                <p style="color: var(--text-muted);">Metal Social Club</p>
            </div>
            
            <form id="loginForm" novalidate>
                <div class="form-group">
                    <label class="form-label">Email ou Nom d'utilisateur</label>
                    <input type="text" class="form-input" id="loginEmail" placeholder="jean.metal@msc.fr">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Mot de passe</label>
                    <input type="password" class="form-input" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    ü§ò Se connecter
                </button>
                <p class="form-feedback" id="loginFeedback"></p>
            </form>
            
            <div style="text-align: center; margin: 25px 0; color: var(--text-muted);">ou</div>
            
            <button class="btn btn-secondary" style="width: 100%;" data-action="open-register">
                Cr√©er un compte MSC
            </button>
            
            <div style="text-align: center; margin-top: 20px;">
                <a href="#" data-action="forgot-password" style="color: var(--text-muted); text-decoration: none; font-size: 14px;">
                    Mot de passe oubli√© ?
                </a>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div class="app-container" id="appContainer">
        <header>
            <div class="header-content">
                <button type="button" class="logo" data-page="dashboard">
                    <div class="logo-icon" style="width: 45px; height: 45px; font-size: 22px;">üé∏</div>
                    <h1>ALMANACH MSC</h1>
                </button>
                
                <nav class="nav-menu" id="mainNav">
                    <button type="button" class="nav-item active" data-page="dashboard">Accueil</button>
                    <button type="button" class="nav-item" data-page="events">√âv√©nements</button>
                    <button type="button" class="nav-item" data-page="messages">Messages</button>
                    <button type="button" class="nav-item" data-page="members">Membres</button>
                    <button type="button" class="nav-item" data-page="bands">Groupes</button>
                </nav>
                
                <div class="user-menu">
                    <button type="button" class="language-toggle" id="languageToggle" data-lang="fr">FR</button>
                    <button type="button" class="notification-btn" data-action="open-notifications">
                        üîî
                        <span class="notification-badge" id="notificationBadge">3</span>
                    </button>
                    
                    <button type="button" class="user-avatar" data-action="open-user-menu">JM</button>
                </div>
            </div>
        </header>

        <div class="main-content">
            <!-- Dashboard Page -->
            <div class="page-section active" id="dashboardPage">
                <div class="page-header">
                    <h2 class="page-title">üè† Accueil</h2>
                    <p class="page-subtitle" id="dashboardSubtitle">Bienvenue ! Voici les derni√®res nouvelles du MSC</p>
                </div>
                
                <div class="stats-grid" id="dashboardStats"></div>

                <div class="grid-3">
                    <div class="card">
                        <h3 style="color: var(--primary-red); margin-bottom: 20px;">üìÖ Prochains √©v√©nements</h3>
                        <div class="card-stack" id="dashboardUpcoming"></div>
                    </div>

                    <div class="card">
                        <h3 style="color: var(--primary-red); margin-bottom: 20px;">üí¨ Messages r√©cents</h3>
                        <div class="card-stack" id="dashboardMessages"></div>
                    </div>

                    <div class="card">
                        <h3 id="dashboardEventDiscussionTitle" style="color: var(--primary-red); margin-bottom: 20px;">üí¨ Discussions √©v√©nements</h3>
                        <div class="card-stack" id="dashboardEventDiscussions"></div>
                    </div>
                </div>
            </div>

            <!-- Events Page -->
            <div class="page-section" id="eventsPage">
                <div class="page-header">
                    <h2 class="page-title">üìÖ √âv√©nements</h2>
                    <p class="page-subtitle">Tous les √©v√©nements Metal √† venir</p>
                </div>

                <div class="event-filters">
                    <input type="text" class="form-input" placeholder="üîç Rechercher un √©v√©nement..." id="eventSearch">
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="all">Tous</button>
                        <button class="filter-btn" data-filter="concert">üé∏ Concerts</button>
                        <button class="filter-btn" data-filter="festival">üèïÔ∏è Festivals</button>
                        <button class="filter-btn" data-filter="msc">‚≠ê Sessions MSC</button>
                        <button class="filter-btn" data-filter="conference">üé§ Conf√©rences</button>
                        <button class="filter-btn" data-filter="expo">üé® Expositions</button>
                    </div>
                </div>

                <div class="grid-3" id="eventsGrid">
                    <!-- Events will be loaded here -->
                </div>

                <div class="events-actions">
                    <button class="btn btn-primary" data-action="open-create-event" id="suggestEventButton">
                        + Proposer un √©v√©nement
                    </button>
                </div>

                <div class="suggestions-section">
                    <div class="suggestions-header">
                        <h3 class="suggestions-title" id="suggestionsTitle">üéÅ Suggestions des membres</h3>
                        <p class="suggestions-subtitle" id="suggestionsSubtitle">Concerts propos√©s par la communaut√© MSC</p>
                    </div>
                    <div class="grid-3" id="suggestionsGrid"></div>
                </div>
            </div>

            <!-- Messages Page -->
            <div class="page-section" id="messagesPage">
                <div class="messages-container">
                    <div class="conversations-list">
                        <h3 style="color: var(--primary-red); margin-bottom: 20px;">Conversations</h3>
                        <button class="btn btn-primary" style="width: 100%; margin-bottom: 20px;" data-action="open-new-message">
                            + Nouveau message
                        </button>
                        <div id="conversationsList">
                            <!-- Conversations will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="chat-window">
                        <div class="chat-header">
                            <h3 style="color: var(--text-primary);" id="chatHeaderTitle">S√©lectionnez une conversation</h3>
                        </div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="empty-state">
                                <div class="empty-state-icon">üí¨</div>
                                <p>S√©lectionnez une conversation ou d√©marrez-en une nouvelle</p>
                            </div>
                        </div>
                        <div class="chat-input-area">
                            <input type="text" class="form-input" id="chatInput" placeholder="Tapez votre message..." disabled>
                            <button class="btn btn-primary" id="chatSendButton" disabled>Envoyer</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Members Page -->
            <div class="page-section" id="membersPage">
                <div class="page-header">
                    <h2 class="page-title">üë• Membres</h2>
                    <p class="page-subtitle">La communaut√© Metal Social Club</p>
                </div>

                <div class="card" style="margin-bottom: 30px;">
                    <input type="text" class="form-input" placeholder="üîç Rechercher un membre..." id="memberSearch">
                </div>

                <div class="grid-4" id="membersGrid">
                    <!-- Members will be loaded here -->
                </div>
            </div>

            <!-- Bands Page -->
            <div class="page-section" id="bandsPage">
                <div class="page-header">
                    <h2 class="page-title">üéµ Groupes & Artistes</h2>
                    <p class="page-subtitle">Base de donn√©es des groupes Metal</p>
                </div>

                <div class="tabs">
                    <button type="button" class="tab active" data-tab-target="bands-featured">En vedette</button>
                    <button type="button" class="tab" data-tab-target="bands-local">Sc√®ne locale</button>
                    <button type="button" class="tab" data-tab-target="bands-international">International</button>
                    <button type="button" class="tab" data-tab-target="bands-emerging">D√©couvertes</button>
                </div>

                <div class="tab-content active" id="bands-featured">
                    <div class="grid-3" id="bandsFeatured"></div>
                </div>

                <div class="tab-content" id="bands-local">
                    <div class="grid-3" id="bandsLocal"></div>
                </div>

                <div class="tab-content" id="bands-international">
                    <div class="grid-3" id="bandsInternational"></div>
                </div>

                <div class="tab-content" id="bands-emerging">
                    <div class="grid-3" id="bandsEmerging"></div>
                </div>
            </div>

            <!-- Notifications Page -->
            <div class="page-section" id="notificationsPage">
                <div class="page-header">
                    <h2 class="page-title">üîî Notifications</h2>
                    <p class="page-subtitle">Restez inform√© de l'activit√© du MSC</p>
                </div>

                <div class="notification-list" id="notificationList"></div>
            </div>

            <!-- Profile Page -->
            <div class="page-section" id="profilePage">
                <div class="page-header">
                    <h2 class="page-title">‚öôÔ∏è Mon Profil</h2>
                    <p class="page-subtitle">G√©rez vos informations et pr√©f√©rences</p>
                </div>

                <div class="grid-3">
                    <div class="card" style="grid-column: span 2;">
                        <h3 style="color: var(--primary-red); margin-bottom: 20px;">Informations personnelles</h3>
                        
                        <div class="form-group">
                            <label class="form-label">Nom complet</label>
                            <input type="text" class="form-input" id="profileName" value="Jean Metal" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="profileEmail" value="jean.metal@msc.fr" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Bio</label>
                            <textarea class="form-textarea" id="profileBio" required>Passionn√© de Metal depuis 20 ans. Fan de Death, Black et Progressive.</textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Genres pr√©f√©r√©s</label>
                            <input type="text" class="form-input" id="profileGenres" value="Death Metal, Black Metal, Progressive Metal" required>
                        </div>
                        
                        <button type="button" class="btn btn-primary" id="profileSaveButton">Sauvegarder les modifications</button>
                    </div>
                    
                    <div class="card">
                        <h3 style="color: var(--primary-red); margin-bottom: 20px;">Statistiques</h3>
                        <div class="stat-card" style="background: rgba(0,0,0,0.2);">
                            <div class="stat-value" id="profileEventsCount">42</div>
                            <div class="stat-label">√âv√©nements particip√©s</div>
                        </div>
                        <div class="stat-card" style="background: rgba(0,0,0,0.2); margin-top: 15px;">
                            <div class="stat-value" id="profileMessagesCount">156</div>
                            <div class="stat-label">Messages envoy√©s</div>
                        </div>
                        <div class="stat-card" style="background: rgba(0,0,0,0.2); margin-top: 15px;">
                            <div class="stat-value" id="profileMemberSince">2021</div>
                            <div class="stat-label">Membre depuis</div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 30px;">
                    <h3 style="color: var(--primary-red); margin-bottom: 20px;">Pr√©f√©rences de notifications</h3>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid var(--border-color);">
                        <span>Nouveaux √©v√©nements</span>
                        <button type="button" class="toggle-switch active" data-pref="events"></button>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid var(--border-color);">
                        <span>Messages priv√©s</span>
                        <button type="button" class="toggle-switch active" data-pref="messages"></button>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid var(--border-color);">
                        <span>Mentions dans les discussions</span>
                        <button type="button" class="toggle-switch" data-pref="mentions"></button>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0;">
                        <span>Newsletter hebdomadaire</span>
                        <button type="button" class="toggle-switch active" data-pref="newsletter"></button>
                    </div>
                </div>

                <button class="btn btn-secondary" style="margin-top: 30px;" data-action="logout">
                    D√©connexion
                </button>
            </div>

            <!-- Admin Page -->
            <div class="page-section" id="adminPage">
                <div class="page-header">
                    <h2 class="page-title">üõ†Ô∏è Administration</h2>
                    <p class="page-subtitle">Gestion de la plateforme MSC</p>
                </div>

                <div style="display: grid; grid-template-columns: 250px 1fr; gap: 30px;">
                    <div class="admin-sidebar">
                        <a class="admin-menu-item active">üìä Tableau de bord</a>
                        <a class="admin-menu-item">üë• Gestion membres</a>
                        <a class="admin-menu-item">üìÖ Gestion √©v√©nements</a>
                        <a class="admin-menu-item">üí¨ Mod√©ration discussions</a>
                        <a class="admin-menu-item">üìà Statistiques</a>
                        <a class="admin-menu-item">‚öôÔ∏è Param√®tres</a>
                    </div>
                    
                    <div>
                        <div class="stats-grid" id="adminStats"></div>
                        
                        <div class="card">
                            <h3 style="color: var(--primary-red); margin-bottom: 20px;">Actions rapides</h3>
                            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                                <button class="btn btn-primary" data-action="open-create-event">+ Ajouter un √©v√©nement</button>
                                <button class="btn btn-primary" data-action="admin-invite">+ Inviter un membre</button>
                                <button class="btn btn-secondary" data-action="admin-newsletter">Envoyer newsletter</button>
                                <button class="btn btn-secondary" data-action="admin-export">Exporter donn√©es</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <button type="button" class="modal-close" data-close="registerModal">√ó</button>
            <h2 style="color: var(--primary-red); margin-bottom: 20px;">Cr√©er un compte MSC</h2>
            
            <form id="registerForm">
                <div class="form-group">
                    <label class="form-label">Nom complet</label>
                    <input type="text" class="form-input" name="name" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" name="email" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Mot de passe</label>
                    <input type="password" class="form-input" name="password" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Genres pr√©f√©r√©s</label>
                    <input type="text" class="form-input" name="genres" placeholder="Death Metal, Black Metal...">
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    Cr√©er mon compte
                </button>
                <p class="form-feedback" id="registerFeedback"></p>
            </form>
        </div>
    </div>

    <div class="modal" id="eventModal">
        <div class="modal-content">
            <button type="button" class="modal-close" data-close="eventModal">√ó</button>
            <h2 style="color: var(--primary-red); margin-bottom: 20px;">D√©tails de l'√©v√©nement</h2>
            <div id="eventModalContent"></div>
        </div>
    </div>

    <div class="modal" id="createEventModal">
        <div class="modal-content">
            <button type="button" class="modal-close" data-close="createEventModal">√ó</button>
            <h2 style="color: var(--primary-red); margin-bottom: 20px;">Proposer un √©v√©nement</h2>
            <form id="createEventForm">
                <div class="form-group">
                    <label class="form-label">Titre</label>
                    <input type="text" class="form-input" id="createEventTitle" name="title" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="createEventDate" name="date" required>
                </div>
                <div class="form-group-grid">
                    <div class="form-group">
                        <label class="form-label">Heure</label>
                        <input type="time" class="form-input" id="createEventTime" name="time" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cat√©gorie</label>
                        <select class="form-select" id="createEventCategory" name="category" required>
                            <option value="concert">Concert</option>
                            <option value="festival">Festival</option>
                            <option value="msc">Session MSC</option>
                            <option value="conference">Conf√©rence</option>
                            <option value="expo">Exposition</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Lieu</label>
                    <input type="text" class="form-input" id="createEventLocation" name="location" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Tarif (laisser vide pour gratuit)</label>
                    <input type="number" class="form-input" id="createEventPrice" name="price" min="0" step="1">
                </div>
                <div class="form-group">
                    <label class="form-label">Lien billetterie</label>
                    <input type="url" class="form-input" id="createEventTicketing" name="ticketing">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-textarea" id="createEventDescription" name="description" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Publier</button>
            </form>
        </div>
    </div>

    <div class="modal" id="newMessageModal">
        <div class="modal-content">
            <button type="button" class="modal-close" data-close="newMessageModal">√ó</button>
            <h2 style="color: var(--primary-red); margin-bottom: 20px;">Nouveau message</h2>
            <form id="newMessageForm">
                <div class="form-group">
                    <label class="form-label">Destinataire</label>
                    <select class="form-select" id="messageRecipient" name="recipient" required></select>
                </div>
                <div class="form-group">
                    <label class="form-label">Message</label>
                    <textarea class="form-textarea" id="messageContent" name="content" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Envoyer</button>
            </form>
        </div>
    </div>

    <div class="modal" id="userMenuModal">
        <div class="modal-content" style="max-width: 300px;">
            <div style="text-align: center; padding: 20px;">
                <div style="width: 80px; height: 80px; margin: 0 auto 15px; background: linear-gradient(135deg, var(--primary-red), var(--dark-red)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px;" id="userMenuAvatar">JM</div>
                <h3 style="color: var(--text-primary); margin-bottom: 5px;" id="userMenuName">Jean Metal</h3>
                <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 20px;" id="userMenuEmail">jean.metal@msc.fr</p>
                
                <div style="border-top: 1px solid var(--border-color); padding-top: 20px;">
                    <button type="button" class="user-menu-link" data-page-target="profile">‚öôÔ∏è Mon profil</button>
                    <button type="button" class="user-menu-link" data-page-target="admin">üõ†Ô∏è Administration</button>
                    <button type="button" class="user-menu-link logout" data-action="logout">üö™ D√©connexion</button>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/data.js"></script>
    <script src="assets/js/app.js"></script>
</body>
</html>
